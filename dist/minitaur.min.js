/*!
  minitaur v0.0.2 (https://github.com/kodie/minitaur)
  by Kodie Grantham (https://kodieg.com)
*/
var minitaurDebug=void 0!==window.minitaurDebug&&window.minitaurDebug,minitaur=function(t,r){var e=[],o=[];if(t&&t.constructor===Object&&(r=t,t=null),r=minitaur.mergeObjects(minitaur.defaultOptions,r||{}),"string"==typeof(t=t||r.mount)?e=document.querySelectorAll(t):t instanceof HTMLElement?e=[t]:t||(e=[document.createElement("div")]),(e=minitaur.getModals(e))&&e.length)for(var i=0;i<e.length;i++)!function(i){if(i.minitaur)return;if(!r.beforeInit||!1!==r.beforeInit(i)){minitaur.modalCount++;var t={close:function(t){return minitaur.close(i,t)},get:function(t){return minitaur.get(i,t,!1)},kill:function(t){return minitaur.kill(i,t)},open:function(t){return minitaur.open(i,t)},set:function(t,e){return minitaur.set(i,t,e)},toggle:function(t){return minitaur.toggle(i,t)}},e=minitaur.parseOptions(minitaur.mergeObjects(r,minitaur.parseAttributes(i.dataset),t,{isOpen:!1}));if(i.parentNode&&i.parentNode!==document.body&&(e.originalElement=i.cloneNode(!0),e.originalElementIndex=Array.prototype.indexOf.call(i.parentNode.childNodes,i),e.originalElementParent=i.parentNode,i.parentNode.removeChild(i)),i.minitaur=e,i.setAttribute("data-minitaur",""),(e=minitaur.get(i,!0,!1)).id?i.id=e.id:i.id||(i.id="minitaur-"+minitaur.modalCount),minitaurDebug&&console.log("minitaur.init (#"+i.id+"):",e),e.class){"string"==typeof e.class&&(e.class=[e.class]);for(var n=0;n<e.class.length;n++)i.classList.add(e.class[n])}minitaur.setStyle(i,minitaur.mergeObjects(e.style||{},e.closeStyle||{})),minitaur.initiateTriggers(i),i.parentNode||document.body.appendChild(i),e.opened?i.minitaur.open():i.minitaur.close(),e.afterInit&&r.afterInit(i),o.push(i)}}(e[i]);return minitaur.initiated||(minitaur.initiated=!0,document.addEventListener("click",minitaur.documentClick),window.addEventListener("resize",minitaur.documentResize),window.addEventListener("scroll",minitaur.documentScroll)),!!o.length&&(1===o.length?o[0]:o)};minitaur.initiated=!1,minitaur.modalCount=0,minitaur.defaultOptions={afterClose:null,afterInit:null,afterOpen:null,anchor:null,backdropClass:"minitaur-backdrop",backdropClosingStyle:null,backdropOpeningStyle:null,backdropStyle:{backgroundColor:"rgba(0, 0, 0, 0.5)"},beforeClose:null,beforeInit:null,beforeOpen:null,breakpoints:null,class:"minitaur",closeClass:"closed",closeDuration:0,closingClass:"closing",closingStyle:null,closeOnFocusOut:!0,closeStyle:{display:"none",visibility:"hidden"},content:null,id:null,mount:".minitaur, [data-minitaur]",opened:!1,openClass:"opened",openDuration:0,openingClass:"opening",openingStyle:{display:"block",visibility:"visible"},openStyle:null,parameters:null,position:"middle",respectAnchorSpacing:!1,stayInBounds:!0,style:null,takeover:!1,triggers:[]},minitaur.clearTimers=function(t){minitaur.resizeTimer&&(clearTimeout(minitaur.resizeTimer),minitaur.resizeTimer=null),t&&(t.minitaur.closeDurationTimer&&(clearTimeout(t.minitaur.closeDurationTimer),t.minitaur.closeDurationTimer=null),t.minitaur.openDurationTimer&&(clearTimeout(t.minitaur.openDurationTimer),t.minitaur.openDurationTimer=null))},minitaur.close=function(t,o){t=minitaur.getModals(t,!0);for(var e=0;e<t.length;e++)!function(t){o&&t.minitaur.set(o);var e,i,n,r=minitaur.get(t,!0,!1);minitaurDebug&&console.log("minitaur.close (#"+t.id+"):",r),minitaur.clearTimers(t),r.beforeClose&&!1===r.beforeClose(t)||(t.classList.remove(r.openClass),t.classList.remove(r.openingClass),t.classList.add(r.closingClass),minitaur.setStyle(t,minitaur.mergeObjects(r.style||{},r.closingStyle||{})),r.takeover&&(t.removeAttribute("data-minitaur-taking-over"),(e=document.querySelector('[data-minitaur-backdrop="#'+t.id+'"]'))&&(e.classList.remove(r.openClass),e.classList.remove(r.openingClass),e.classList.add(r.closingClass),i=-1*parseInt(document.body.style.left||"0"),n=-1*parseInt(document.body.style.top||"0"),minitaur.setStyle(e,r.backdropClosingStyle||{}),minitaur.setStyle(document.body,{position:"relative",left:null,top:null,height:null,width:null}),window.scrollTo(i,n))),t.minitaur.closeDurationTimer=setTimeout(function(){t.minitaur.isOpen=!1,t.classList.remove(r.closingClass),t.classList.add(r.closeClass),r.takeover&&e&&(document.body.removeChild(e),window.addEventListener("scroll",minitaur.documentScroll)),minitaur.setStyle(t,minitaur.mergeObjects(r.style||{},r.closeStyle||{})),t.dispatchEvent(new Event("close",{bubbles:!0})),r.afterClose&&r.afterClose(t)},r.closeDuration||0))}(t[e])},minitaur.documentClick=function(t){for(var e=t.target,i=!0;e!==document.body&&((e.minitaur||e.minitaurIgnore||e.classList.contains("minitaur-ignore"))&&(i=!1),e=e.parentNode););if(i)for(var n=minitaur.getModals("[data-minitaur]",!0),r=0;r<n.length;r++){var o=n[r];o.minitaur.closeOnFocusOut&&!0===o.minitaur.isOpen&&o.minitaur.close()}},minitaur.documentResize=function(t){minitaur.clearTimers(),minitaur.resizeTimer=setTimeout(function(){for(var t,e=minitaur.getModals("[data-minitaur]",!0),i=0;i<e.length;i++)(t=e[i]).minitaur.isOpen&&t.minitaur.open()},60)},minitaur.documentScroll=function(t){minitaur.clearTimers(),minitaur.resizeTimer=setTimeout(function(){for(var t,e,i=minitaur.getModals("[data-minitaur]",!0),n=0;n<i.length;n++)t=i[n],e=void 0,!(e=t.minitaur).isOpen||e.takeover||"viewport"!==e.anchor.x&&"viewport"!==e.anchor.y||t.minitaur.open()},60)},minitaur.get=function(t,r,e){t=minitaur.getModals(t,e);for(var o=[],i=0;i<t.length;i++)!function(t){var e=minitaur.mergeObjects(t.minitaur,{element:t});if(r&&e.breakpoints){var i,n=null;for(i in e.breakpoints)document.documentElement.clientWidth>=parseInt(i)&&(n=e.breakpoints[i]);delete(e=n?minitaur.mergeObjects(e,n):e).breakpoints}o.push(e)}(t[i]);return!!o.length&&(1===o.length?o[0]:o)},minitaur.getModals=function(t,e){if("string"==typeof t?t=document.querySelectorAll(t):t instanceof HTMLElement&&(t=[t]),e){for(var i=[],n=0;n<t.length;n++)(r=t[n]).minitaur?i.push(r):console.warn("Element doesn't appear to be a minitaur instance:",r);return i}var r;return t},minitaur.initiateTriggers=function(t){t=minitaur.getModals(t,!0);for(var e=["close","open","toggle"],i=0;i<t.length;i++){var r=t[i],n=minitaur.get(r,!0,!1).triggers;n=(n="string"==typeof n?[{action:"toggle",elements:n,events:["click"]}]:n||[]).reduce(function(t,e){if(Array.isArray(e))e.elements=e;else if(!e.elements)return console.warn("(minitaur: #"+r.id+") A trigger is missing it's elements option.",e),t;return t.push(e),t},[]);for(var o=0;o<n.length;o++){var a=n[o];"string"==typeof(a="string"==typeof a?{action:"toggle",elements:a,events:["click"]}:a).elements?a.elements=document.querySelectorAll(a.elements):a.elements instanceof HTMLElement&&(a.elements=[a.elements]),a.events?"string"==typeof a.events&&(a.events=[a.events]):a.events=["click"],a.action&&e.includes(a.action)||(a.action="toggle");for(var s=0;s<a.elements.length;s++){var l=a.elements[s],u=l.getAttribute("data-minitaur-"+a.action),c=l.getAttribute("data-minitaur-event");if(u?(u=u.split(",")).includes("#"+r.id)||(u.push("#"+r.id),l.setAttribute("data-minitaur-"+a.action,u.join(","))):l.setAttribute("data-minitaur-"+a.action,"#"+r.id),c){for(var c=c.split(","),m=0;m<a.events.length;m++){var d=a.events[m];c.includes(d)||c.push(d)}l.setAttribute("data-minitaur-event",c.join(","))}else l.setAttribute("data-minitaur-event",a.events.join(","))}}for(var p=0;p<e.length;p++)for(var g=e[p],f=document.querySelectorAll("[data-minitaur-"+g+'="#'+r.id+'"], #'+r.id+" [data-minitaur-"+g+'=""]'),y=0;y<f.length;y++)!function(t){var e=t.getAttribute("data-minitaur-event");""===t.getAttribute("data-minitaur-"+g)&&t.setAttribute("data-minitaur-"+g,"#"+r.id),e?e=e.split(","):(e=["click"],t.setAttribute("data-minitaur-event","click"));for(var i=0;i<e.length;i++){var n=e[i];t.addEventListener(n,minitaur.triggerEvent)}t.minitaurIgnore=!0,t.setAttribute("data-minitaur-trigger","")}(f[y])}},minitaur.kill=function(t,m){t=minitaur.getModals(t,!0);for(var d=["close","open","toggle"],p=document.querySelectorAll("[data-minitaur-trigger]"),e=0;e<t.length;e++)!function(t){var e=minitaur.get(t,!0,!1);e.isOpen&&e.close(),document.body.removeChild(t),!1!==m&&e.originalElement&&e.originalElementParent&&e.originalElementIndex&&e.originalElementParent.insertBefore(e.originalElement,e.originalElementParent.childNodes[e.originalElementIndex-1]);for(var i=0;i<p.length;i++){for(var n=p[i],r=0,o=0;o<d.length;o++){var a,s=d[o],l=n.getAttribute("data-minitaur-"+s);l?-1!==(a=(l=l.split(",")).indexOf("#"+t.id))&&(l.splice(a,1),l.length?n.setAttribute("data-minitaur-"+s,l.join(",")):(n.removeAttribute("data-minitaur-"+s),r++)):r++}if(r===d.length){var u=n.getAttribute("data-minitaur-event");n.removeAttribute("data-minitaur-event"),n.removeAttribute("data-minitaur-trigger");for(var c=0;c<u.length;c++)n.removeEventListener(u[c],minitaur.triggerEvent);delete n.minitaurIgnore}}minitaur.modalCount--}(t[e]);minitaur.modalCount||(document.removeEventListener("click",minitaur.documentClick),window.removeEventListener("resize",minitaur.documentResize),window.removeEventListener("scroll",minitaur.documentScroll),minitaur.initiated=!1)},minitaur.mergeObjects=function(...t){function o(t){return t&&"object"==typeof t&&!(t instanceof HTMLElement)}return t.reduce(function(n,r){return Object.keys(r).forEach(function(t){var e=n[t],i=r[t];Array.isArray(e)&&Array.isArray(i)?n[t]=[...e,...i].filter(function(t,e,i){return i.indexOf(t)===e}):o(e)&&o(i)?n[t]=minitaur.mergeObjects(e,i):n[t]=i}),n},{})},minitaur.open=function(t,r){t=minitaur.getModals(t,!0);for(var e=0;e<t.length;e++)!function(t){r&&t.minitaur.set(r);var e,i=minitaur.get(t,!0,!1);if(minitaurDebug&&console.log("minitaur.open (#"+t.id+"):",i),minitaur.clearTimers(t),!i.beforeOpen||!1!==i.beforeOpen(t)){if(i.content&&("function"==typeof i.content&&(i.content=i.content(t)),t.innerHTML!==i.content&&(t.innerHTML=i.content)),i.parameters)for(var n in i.parameters)t.innerHTML=t.innerHTML.replace(new RegExp("{"+n+"}","g"),i.parameters[n]);t.classList.remove(i.closeClass),t.classList.remove(i.closingClass),t.classList.add(i.openingClass),minitaur.setStyle(t,minitaur.mergeObjects(i.style||{},i.openingStyle||{})),i.takeover&&!document.querySelector("#"+t.id+"-backdrop")?(window.removeEventListener("scroll",minitaur.documentScroll),minitaur.close("[data-minitaur][data-minitaur-taking-over]"),(e=document.createElement("div")).id=t.id+"-backdrop",t.setAttribute("data-minitaur-taking-over",""),e.setAttribute("data-minitaur-backdrop","#"+t.id),e.classList.add(i.backdropClass),e.classList.add(i.openingClass),minitaur.setStyle(e,minitaur.mergeObjects({position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",zIndex:99998},i.backdropOpeningStyle||{})),minitaur.setStyle(document.body,{position:"fixed",left:"-"+window.scrollX+"px",top:"-"+window.scrollY+"px",height:document.body.clientHeight+"px",width:document.body.clientWidth+"px"}),document.body.insertBefore(e,t)):minitaur.setStyle(document.body,{position:"relative"}),t.minitaur.openDurationTimer=setTimeout(function(){t.minitaur.isOpen=!0,t.classList.remove(i.openingClass),t.classList.add(i.openClass),i.takeover&&e&&(e.classList.remove(i.openingClass),e.classList.add(i.openClass),minitaur.setStyle(e,i.backdropStyle||{})),minitaur.setDimensions(t,i),minitaur.initiateTriggers(t),t.dispatchEvent(new Event("open",{bubbles:!0})),i.afterOpen&&i.afterOpen(t)},i.openDuration||0)}}(t[e])},minitaur.parseAttributes=function(t){var e,i={},n="minitaur",r=["class"],o=["anchor","backdropStyle","breakpoints","closeStyle","openStyle","parameters","position","respectAnchorSpacing","style"],a=["breakpoints"],s=Object.keys(minitaur.defaultOptions).concat(["triggerElement"]);for(e in t)if(e!==n&&e.substring(0,n.length).toLowerCase()===n.toLowerCase()){var l=e.charAt(n.length).toLowerCase()+e.substring(n.length+1).replace("-",""),u=!1,c=t[e];"true"!==c.toLowerCase()&&c.length?"false"===c.toLowerCase()&&(c=!1):c=!0,r.includes(l)&&(c=c.split(","));for(var m=0;m<o.length;m++){var d=o[m],p=l.substring(0,d.length);if(p.length!==l.length&&p.toLowerCase()===d.toLowerCase()){var g=l.substring(d.length).toLowerCase();i[d]||(i[d]={}),a.includes(p)?(p=g.match(/^\d+/))?i[d][p[0]]=minitaur.parseAttributes({[n+g.substring(p[0].length)]:c}):i[d]=minitaur.parseAttributes({[n+g]:c}):i[d][g]=c,u=!0;break}}!u&&s.includes(l)&&(i[l]=c)}return i},minitaur.parseOptions=function(t){return t.takeover&&(t.anchor="viewport"),t.anchor&&"string"!=typeof t.anchor||(t.anchor={x:t.anchor,y:t.anchor}),t.position&&"string"!=typeof t.position||(t.position=t.position?t.position.split(" "):["middle"],t.position={x:t.position[1]||"middle",y:t.position[0]}),t.position.x||(t.position.x="middle"),t.position.y||(t.position.y="middle"),t.respectAnchorSpacing&&"boolean"!=typeof t.respectAnchorSpacing||(t.respectAnchorSpacing={x:t.respectAnchorSpacing,y:t.respectAnchorSpacing}),t.respectAnchorSpacing.x||(t.respectAnchorSpacing.x=!1),t.respectAnchorSpacing.y||(t.respectAnchorSpacing.y=!1),t},minitaur.set=function(t,e,i){t=minitaur.getModals(t,!0),"string"==typeof e&&(e={[e]:i});for(var n,r=0;r<t.length;r++)n=t[r],minitaurDebug&&console.log("minitaur.set (#"+n.id+"):",e),n.minitaur=minitaur.parseOptions(minitaur.mergeObjects(n.minitaur,e||{}))},minitaur.setDimensions=function(t,e,i){var n=minitaur.get(t,!0,!1);(n=minitaur.mergeObjects(n,e||{})).anchor.x||(n.anchor.x=n.triggerElement||document.body),n.anchor.y||(n.anchor.y=n.triggerElement||document.body);var r=null,o=null,r="string"==typeof n.anchor.x?"viewport"===n.anchor.x?document.body:document.querySelector(n.anchor.x):n.anchor.x,o="string"==typeof n.anchor.y?"viewport"===n.anchor.y?document.body:document.querySelector(n.anchor.y):n.anchor.y;r instanceof HTMLElement||(console.warn("(minitaur: #"+t.id+") Unable to find anchor.x:",r),r=document.body),o instanceof HTMLElement||(console.warn("(minitaur: #"+t.id+") Unable to find anchor.y:",o),o=document.body);var a=t.cloneNode(!0);minitaur.setStyle(a,minitaur.mergeObjects(n.style||{},n.openStyle||{},{left:"0px",opacity:"0",position:"absolute",top:"0px",transition:"none"})),document.body.appendChild(a);var s=getComputedStyle(a),l=r.getBoundingClientRect(),u=l.x+window.scrollX,c=l.y+window.scrollY,m=l.width,d=l.height,p=o.getBoundingClientRect(),g=p.x+window.scrollX,f=p.y+window.scrollY,y=p.width,b=p.height,h=parseFloat(s.getPropertyValue("margin-left")),v=parseFloat(s.getPropertyValue("margin-top")),w=parseFloat(s.getPropertyValue("margin-right")),e=parseFloat(s.getPropertyValue("margin-bottom")),k=a.offsetWidth+h+w,x=a.offsetHeight+v+e,S=0,C=0,h=parseFloat(s.getPropertyValue("width")),w=parseFloat(s.getPropertyValue("height")),v=document.body.clientWidth,e=document.body.clientHeight,s=!1;if(document.body.removeChild(a),"viewport"===n.anchor.x&&(u=window.scrollX,c=window.scrollY,m=window.innerWidth,d=window.innerHeight,v=m+window.scrollX),"viewport"===n.anchor.y&&(g=window.scrollX,f=window.scrollY,y=window.innerWidth,e=(b=window.innerHeight)+window.scrollY),n.takeover&&(u=0-parseInt(document.body.style.left||"0"),c=0-parseInt(document.body.style.top||"0"),g=0-parseInt(document.body.style.left||"0"),f=0-parseInt(document.body.style.top||"0"),v=u+window.innerWidth,e=f+window.innerHeight),r===document.body)switch(n.position.x){case"left":n.position.x="inner-left";break;case"right":n.position.x="inner-right"}if(o===document.body)switch(n.position.y){case"top":n.position.y="inner-top";break;case"bottom":n.position.y="inner-bottom"}if(n.respectAnchorSpacing.x){var A=getComputedStyle(r);switch(n.position.x){case"inner-left":u+=parseFloat(A.getPropertyValue("padding-left"));break;case"left":u-=parseFloat(A.getPropertyValue("margin-left"));break;case"inner-right":m-=parseFloat(A.getPropertyValue("padding-right"));break;case"right":m+=parseFloat(A.getPropertyValue("margin-right"))}}if(n.respectAnchorSpacing.y){var O=getComputedStyle(o);switch(n.position.y){case"inner-top":f+=parseFloat(O.getPropertyValue("padding-top"));break;case"top":f-=parseFloat(O.getPropertyValue("margin-top"));break;case"inner-bottom":b-=parseFloat(O.getPropertyValue("padding-bottom"));break;case"bottom":d+=parseFloat(O.getPropertyValue("margin-bottom"))}}switch(minitaurDebug&&console.log("minitaur.setDimensions (#"+t.id+"):",{anxhorX:{element:r,left:u,top:c,width:m,height:d,rect:l,boundary:v},anxhorY:{element:o,left:g,top:f,width:y,height:b,rect:p,boundary:e},modal:{height:x,width:k},scroll:{x:window.scrollX,y:window.scrollY}}),n.position.x){case"inner-left":S=u;break;case"left":S=u-k-1;break;case"middle":S=u+m/2-k/2;break;case"inner-right":S=u+m-k;break;case"right":S=u+m+1;break;default:if("string"==typeof n.position.x)S="%"===n.position.x[n.position.x.length-1]?u+n.position.x.substr(0,n.position.x.length-1)/100*m:u+parseInt(n.position.x);else{if(!Number.isFinite(n.position.x))return console.warn("minitaur (#"+t.id+") Invalid position.x value:",n.position.x),!1;S=u+n.position.x}}switch(n.position.y){case"inner-top":C=f;break;case"top":C=f-x-1;break;case"middle":C=f+b/2-x/2;break;case"inner-bottom":C=f+b-x;break;case"bottom":C=f+b+1;break;default:if("string"==typeof n.position.y)C="%"===n.position.y[n.position.y.length-1]?f+n.position.y.substr(0,n.position.y.length-1)/100*b:f+parseInt(n.position.y);else{if(!Number.isFinite(n.position.y))return console.warn("minitaur (#"+t.id+") Invalid position.y value:",n.position.y),!1;C=f+n.position.y}}if(n.stayInBounds&&((S=v<=S+k?v-k:S)<0&&(S=0),e<=C+x&&(C=e-x,s=!0),C<0&&(s=!(C=0)),"left"===n.position.x||"right"===n.position.x||"top"===n.position.y||"bottom"===n.position.y)){v=!1,e=!1;if(r!==document.body&&(v=(u<=S&&S<u+m||S<u&&u<=S+k)&&(c<=C&&C<c+d||C<c&&c<=C+x)),o!==document.body&&(e=(g<=S&&S<g+y||S<g&&g<=S+k)&&(f<=C&&C<f+b||C<f&&f<=C+x)),v||e)if(s){if("top"!==n.position.y)return n.position.y="top",minitaur.setDimensions(t,n,!0);if(!i)return n.position.y="bottom",minitaur.setDimensions(t,n,!0)}else{if("left"!==n.position.x)return n.position.x="left",minitaur.setDimensions(t,n,!0);if(!i)return n.position.x="right",minitaur.setDimensions(t,n,!0)}}return minitaur.setStyle(t,minitaur.mergeObjects({zIndex:n.takeover?99999:null},n.style||{},n.openStyle||{},{position:"absolute",left:S+"px",top:C+"px",width:h+"px",height:w+"px"})),!0},minitaur.setStyle=function(t,e){for(var i in minitaurDebug&&console.log("minitaur.setStyle ("+(t.id?"#"+t.id:t.tagName)+"):",e),e)t.style[i]=e[i]},minitaur.toggle=function(t,e){t=minitaur.getModals(t,!0);for(var i,n=0;n<t.length;n++)i=t[n],minitaurDebug&&console.log("minitaur.toggle (#"+i.id+"):",e),i.minitaur.isOpen?i.minitaur.close(e):i.minitaur.open(e)},minitaur.triggerEvent=function(t){for(var e=["close","open","toggle"],i=t.currentTarget,n=minitaur.mergeObjects(minitaur.parseAttributes(i.dataset),{triggerElement:i}),r=0;r<e.length;r++){var o=e[r],a=i.getAttribute("data-minitaur-"+o);a&&(minitaurDebug&&console.log("minitaur.triggerEvent:",a,n),minitaur[o](a,n))}};
//# sourceMappingURL=minitaur.min.js.map